<launch>
    <!-- Arguments for MiR robot setup -->
    <arg name="robot_x" default="0.0"/>
    <arg name="robot_y" default="0.0"/>
    <arg name="robot_yaw" default="0.0"/>
    <arg name="mir_type" default="mir_100"/>
    <arg name="tf_prefix" default="mir"/>
    <arg name="namespace" default="$(arg tf_prefix)"/>

    <!-- Group for MiR robot remapping and spawning -->
    <group ns="$(arg namespace)">
        <remap from="/joint_states" to="/mir/joint_states" />
        <remap from="/mobile_base_controller/cmd_vel" to="/cmd_vel" />
        <remap from="/mobile_base_controller/odom" to="/odom" />

        <!-- Spawn the MiR robot -->
        <include file="$(find mir_gazebo)/launch/mir_gazebo_common.launch">
            <arg name="robot_x" value="$(arg robot_x)" />
            <arg name="robot_y" value="$(arg robot_y)" />
            <arg name="robot_yaw" value="$(arg robot_yaw)" />
            <arg name="mir_type" value="$(arg mir_type)" />
            <arg name="tf_prefix" value="$(arg tf_prefix)" />
        </include>

    </group>
</launch>